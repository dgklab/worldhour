<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#faf9f7" id="metaThemeColor">
<meta name="description" content="The real Amsterdam to New York scheduling guide. 6-hour gap, 3 usable hours. Honest overlap window, DST trap dates, fairness analysis and a live time converter.">

<title>Amsterdam to New York Time â€” The Real Scheduling Guide</title>

<link rel="canonical" href="https://worldhour.app/amsterdam-to-new-york-time">

<!-- Open Graph -->
<meta property="og:type"        content="article">
<meta property="og:url"         content="https://worldhour.app/amsterdam-to-new-york-time">
<meta property="og:title"       content="Amsterdam to New York Time â€” The Real Scheduling Guide">
<meta property="og:description" content="6-hour gap. 3 usable hours. The honest overlap window, who absorbs the cost, and a live converter pre-loaded for Amsterdam and New York.">
<meta property="og:site_name"   content="World Hour">

<!-- Twitter / X -->
<meta name="twitter:card"        content="summary">
<meta name="twitter:title"       content="Amsterdam to New York Time â€” The Real Scheduling Guide">
<meta name="twitter:description" content="6-hour gap. 3 usable hours. The honest overlap window, who absorbs the cost, and a live converter pre-loaded for Amsterdam and New York.">

<!-- Structured data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Amsterdam to New York Time â€” The Real Scheduling Guide",
  "url": "https://worldhour.app/amsterdam-to-new-york-time",
  "description": "The real Amsterdam to New York scheduling guide. 6-hour gap, 3 usable hours. Honest overlap window, DST trap dates, fairness analysis and a live time converter.",
  "isPartOf": { "@type": "WebSite", "name": "World Hour", "url": "https://worldhour.app/" },
  "about": [
    { "@type": "City", "name": "Amsterdam", "containedInPlace": { "@type": "Country", "name": "Netherlands" } },
    { "@type": "City", "name": "New York", "containedInPlace": { "@type": "Country", "name": "United States" } }
  ]
}
</script>

<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Crect width='32' height='32' rx='7' fill='%230B1220'/%3E%3Ccircle cx='16' cy='16' r='11' stroke='%233B82F6' stroke-width='2.2' fill='none' stroke-dasharray='52.36 10.47' stroke-dashoffset='-15.71' stroke-linecap='round'/%3E%3Cline x1='16' y1='16' x2='13.8' y2='11.8' stroke='white' stroke-width='1.6' stroke-linecap='round'/%3E%3Cline x1='16' y1='16' x2='21.5' y2='19.2' stroke='%2360A5FA' stroke-width='1.4' stroke-linecap='round'/%3E%3Ccircle cx='16' cy='16' r='1.4' fill='%233B82F6'/%3E%3C/svg%3E">

<script src="https://cdnjs.cloudflare.com/ajax/libs/luxon/3.4.4/luxon.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,300;8..60,400&display=swap" rel="stylesheet">

<style>
/* â”€â”€ Design tokens â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
:root {
  --c-bg:        #faf9f7;
  --c-surface:   #ffffff;
  --c-surface2:  #f4f2ee;
  --c-surface3:  #ece9e3;
  --c-border:    #e4e0d8;
  --c-border2:   #d4cfc5;
  --c-ink:       #1c1916;
  --c-ink2:      #4a4540;
  --c-ink3:      #8c8680;
  --c-ink4:      #b8b2aa;
  --c-accent:    #c96a3a;
  --c-accent-bg: #fdf1eb;
  --c-accent-lt: #f5c4a8;
  --c-green:     #3a7a54;
  --c-green-bg:  #edf5f0;
  --c-amber:     #9a7010;
  --c-amber-bg:  #fdf8e8;
  --c-red:       #b84040;
  --c-red-bg:    #fdf0f0;
  --c-night:     #4a4870;
  --c-night-bg:  #f0eff8;
  --r-sm: 8px; --r-md: 12px; --r-lg: 16px; --r-xl: 20px; --r-full: 999px;
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
  --shadow-md: 0 4px 16px rgba(0,0,0,0.08), 0 2px 6px rgba(0,0,0,0.04);
  --font-ui:   'Outfit', system-ui, sans-serif;
  --font-time: 'Source Serif 4', Georgia, serif;
  --font-prose:'Source Serif 4', Georgia, serif;
}
[data-theme="dark"] {
  --c-bg:        #141210;
  --c-surface:   #1e1c19;
  --c-surface2:  #28251f;
  --c-surface3:  #322e26;
  --c-border:    #3a352c;
  --c-border2:   #4a4438;
  --c-ink:       #f0ede8;
  --c-ink2:      #c4bdb4;
  --c-ink3:      #8c8680;
  --c-ink4:      #5c5850;
  --c-accent:    #e07a48;
  --c-accent-bg: #2a1c12;
  --c-green-bg:  #101f16;
  --c-amber-bg:  #1e1a08;
  --c-red-bg:    #1e0e0e;
  --c-night-bg:  #12111e;
  --shadow-sm: 0 1px 3px rgba(0,0,0,0.3);
  --shadow-md: 0 4px 16px rgba(0,0,0,0.4);
}
.tb-light-only { display: inherit; }
.tb-dark-only  { display: none; }
[data-theme="dark"] .tb-light-only { display: none; }
[data-theme="dark"] .tb-dark-only  { display: inherit; }
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { font-size: 16px; -webkit-text-size-adjust: 100%; scroll-behavior: smooth; }
body {
  font-family: var(--font-ui); background: var(--c-bg); color: var(--c-ink);
  min-height: 100vh; -webkit-font-smoothing: antialiased;
  overflow-x: hidden; transition: background 0.3s, color 0.3s;
}
.sr-only {
  position: absolute; width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden;
  clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}

/* â”€â”€ Layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.page-wrap { max-width: 720px; margin: 0 auto; padding: 0 20px 80px; }

/* â”€â”€ Topbar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.topbar {
  position: sticky; top: 0; z-index: 30; height: 56px;
  background: var(--c-bg); border-bottom: 1px solid var(--c-border);
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 20px; backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
}
.topbar-logo {
  display: flex; align-items: center; gap: 8px;
  text-decoration: none; -webkit-tap-highlight-color: transparent;
}
.topbar-logo-icon { width: 28px; height: 28px; flex-shrink: 0; }
.topbar-logo-wordmark { display: flex; flex-direction: column; gap: 0; }
.topbar-logo-world {
  font-family: var(--font-ui); font-size: 13px; font-weight: 700;
  color: var(--c-ink); letter-spacing: -0.01em; line-height: 1.1;
}
.topbar-logo-hour {
  font-family: var(--font-ui); font-size: 10px; font-weight: 400;
  color: var(--c-ink4); letter-spacing: 0.06em; line-height: 1; text-transform: uppercase;
}
.topbar-nav { display: flex; align-items: center; gap: 4px; }
.topbar-nav a {
  font-family: var(--font-ui); font-size: 13px; font-weight: 500;
  color: var(--c-ink3); text-decoration: none; padding: 6px 10px;
  border-radius: var(--r-sm); transition: all 0.15s;
}
.topbar-nav a:hover { color: var(--c-ink); background: var(--c-surface2); }
.topbar-right { display: flex; align-items: center; gap: 8px; }
.icon-btn {
  display: flex; align-items: center; justify-content: center;
  width: 36px; height: 36px; border-radius: var(--r-sm);
  border: none; background: none; color: var(--c-ink2);
  cursor: pointer; transition: background 0.15s, color 0.15s;
  font-size: 18px; -webkit-tap-highlight-color: transparent;
}
.icon-btn:hover { background: var(--c-surface2); color: var(--c-ink); }

/* â”€â”€ Quick facts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.quick-facts {
  display: flex; background: var(--c-surface);
  border: 1px solid var(--c-border); border-radius: var(--r-lg);
  overflow: hidden; margin: 24px 0 32px;
}
.qf-item {
  flex: 1; padding: 14px 16px; border-right: 1px solid var(--c-border);
  display: flex; flex-direction: column; gap: 3px;
}
.qf-item:last-child { border-right: none; }
.qf-label { font-size: 10px; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; color: var(--c-ink4); }
.qf-value { font-family: var(--font-time); font-size: 18px; font-weight: 300; color: var(--c-ink); letter-spacing: -0.02em; }
.qf-value.bad  { color: var(--c-red); }
.qf-value.good { color: var(--c-green); }
.qf-value.warn { color: var(--c-amber); }

/* â”€â”€ DST alert â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.dst-alert {
  display: none; background: var(--c-night-bg); border: 1.5px solid #b0acd8;
  border-radius: var(--r-lg); padding: 14px 16px; margin: 0 0 28px;
  font-size: 14px; color: var(--c-night); line-height: 1.5;
}
.dst-alert.visible { display: block; }
.dst-alert strong { font-weight: 600; }

/* â”€â”€ Editorial â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.guide-header { padding: 36px 0 8px; }
.guide-eyebrow {
  font-size: 11px; font-weight: 600; letter-spacing: 0.1em;
  text-transform: uppercase; color: var(--c-accent); margin-bottom: 12px;
}
.guide-title {
  font-family: var(--font-prose); font-size: clamp(26px, 5vw, 38px);
  font-weight: 300; line-height: 1.2; color: var(--c-ink);
  letter-spacing: -0.02em; margin-bottom: 12px;
}
.guide-lede {
  font-family: var(--font-prose); font-size: 19px; font-weight: 300;
  line-height: 1.6; color: var(--c-ink2); letter-spacing: -0.01em;
  border-left: 3px solid var(--c-accent); padding-left: 18px; margin-bottom: 32px;
}
.guide-section { margin-bottom: 36px; }
.guide-section h2 {
  font-family: var(--font-ui); font-size: 13px; font-weight: 600;
  letter-spacing: 0.08em; text-transform: uppercase; color: var(--c-ink4);
  margin-bottom: 14px; padding-bottom: 8px; border-bottom: 1px solid var(--c-border);
}
.guide-section p {
  font-family: var(--font-prose); font-size: 16px; line-height: 1.75;
  color: var(--c-ink2); margin-bottom: 14px;
}
.guide-section p:last-child { margin-bottom: 0; }
.guide-section strong { color: var(--c-ink); font-weight: 600; }
.guide-section a.inline-link {
  color: var(--c-ink2); text-decoration: underline;
  text-decoration-color: var(--c-border2); text-underline-offset: 3px;
  transition: color 0.15s, text-decoration-color 0.15s;
}
.guide-section a.inline-link:hover { color: var(--c-accent); text-decoration-color: var(--c-accent-lt); }

/* â”€â”€ Overlap table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.overlap-table-wrap {
  overflow-x: auto; margin: 16px 0; border-radius: var(--r-lg);
  border: 1px solid var(--c-border); background: var(--c-surface);
}
.overlap-table { width: 100%; border-collapse: collapse; font-family: var(--font-ui); font-size: 14px; }
.overlap-table th {
  background: var(--c-surface2); padding: 10px 16px; text-align: left;
  font-size: 11px; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase;
  color: var(--c-ink4); border-bottom: 1px solid var(--c-border);
}
.overlap-table td {
  padding: 10px 16px; border-bottom: 1px solid var(--c-border);
  font-variant-numeric: tabular-nums; color: var(--c-ink3);
}
.overlap-table tr:last-child td { border-bottom: none; }
.overlap-table tr.overlap td { background: var(--c-green-bg); color: var(--c-green); font-weight: 600; }
[data-theme="dark"] .overlap-table tr.overlap td { background: #101f16; }

/* â”€â”€ Recommendations â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.rec-list { display: flex; flex-direction: column; gap: 10px; margin: 4px 0; }
.rec-item {
  display: flex; gap: 14px; align-items: flex-start;
  background: var(--c-surface); border: 1px solid var(--c-border);
  border-radius: var(--r-lg); padding: 14px 16px;
}
.rec-bullet {
  width: 22px; height: 22px; border-radius: 50%;
  background: var(--c-accent-bg); color: var(--c-accent);
  font-size: 11px; font-weight: 700;
  display: flex; align-items: center; justify-content: center;
  flex-shrink: 0; margin-top: 1px;
}
.rec-text { font-family: var(--font-prose); font-size: 15px; line-height: 1.6; color: var(--c-ink2); }
.rec-text strong { color: var(--c-ink); }

/* â”€â”€ Divider / tool label â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.guide-divider { border: none; border-top: 1px solid var(--c-border); margin: 40px 0; }
.tool-section-label {
  font-size: 11px; font-weight: 600; letter-spacing: 0.08em;
  text-transform: uppercase; color: var(--c-ink4); margin-bottom: 16px;
  display: flex; align-items: center; gap: 8px;
}
.tool-section-label::after { content: ''; flex: 1; height: 1px; background: var(--c-border); }

/* â”€â”€ Ad zone (commented out â€” uncomment to activate) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
.ad-zone {
  background: var(--c-surface2); border: 1px dashed var(--c-border2);
  border-radius: var(--r-lg); min-height: 100px;
  display: flex; align-items: center; justify-content: center;
  color: var(--c-ink4); font-size: 12px; letter-spacing: 0.04em; margin: 28px 0;
}
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* â”€â”€ Inline smart links â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.guide-section a.inline-link {
  color: var(--c-ink2); text-decoration: underline;
  text-decoration-color: var(--c-border2); text-underline-offset: 3px;
  transition: color 0.15s, text-decoration-color 0.15s;
}
.guide-section a.inline-link:hover { color: var(--c-accent); text-decoration-color: var(--c-accent-lt); }

/* â”€â”€ Commonly compared â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.compared-module { margin-top: 20px; padding-top: 16px; border-top: 1px solid var(--c-border); }
.compared-label {
  font-size: 10px; font-weight: 600; letter-spacing: 0.1em;
  text-transform: uppercase; color: var(--c-ink4); margin-bottom: 10px;
}
.compared-links { display: flex; gap: 6px; flex-wrap: wrap; }
.compared-link {
  font-size: 13px; color: var(--c-ink3); text-decoration: none;
  padding: 5px 0; border-bottom: 1px solid transparent;
  transition: color 0.15s, border-color 0.15s; white-space: nowrap;
}
.compared-link:hover { color: var(--c-ink); border-bottom-color: var(--c-border2); }
.compared-link + .compared-link::before { content: 'Â·'; margin-right: 6px; color: var(--c-ink4); pointer-events: none; }

/* â”€â”€ Corridor links â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.corridors-section { margin-top: 52px; padding-top: 28px; border-top: 1px solid var(--c-border); }
.corridors-label {
  font-size: 10px; font-weight: 600; letter-spacing: 0.1em;
  text-transform: uppercase; color: var(--c-ink4); margin-bottom: 18px;
}
.corridor-row { display: flex; flex-direction: column; }
.corridor-item {
  display: grid; grid-template-columns: 1fr auto; align-items: baseline; gap: 16px;
  padding: 11px 0; border-bottom: 1px solid var(--c-border);
  text-decoration: none; transition: opacity 0.15s;
}
.corridor-item:last-child { border-bottom: none; }
.corridor-item:hover { opacity: 0.7; }
.corridor-name { font-size: 15px; font-weight: 500; color: var(--c-ink); }
.corridor-desc { font-size: 12px; color: var(--c-ink4); text-align: right; white-space: nowrap; }

/* â”€â”€ Explore by region â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.explore-section { margin-top: 36px; padding-top: 24px; border-top: 1px solid var(--c-border); }
.explore-label {
  font-size: 10px; font-weight: 600; letter-spacing: 0.1em;
  text-transform: uppercase; color: var(--c-ink4); margin-bottom: 12px;
}
.explore-links { display: flex; flex-wrap: wrap; gap: 0; }
.explore-link {
  font-size: 13px; color: var(--c-ink4); text-decoration: none;
  padding: 4px 0; margin-right: 20px; margin-bottom: 6px;
  border-bottom: 1px solid transparent; transition: color 0.15s, border-color 0.15s; white-space: nowrap;
}
.explore-link:hover { color: var(--c-ink2); border-bottom-color: var(--c-border2); }
.explore-link.active { color: var(--c-ink2); border-bottom-color: var(--c-border); cursor: default; }

/* â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.page-footer {
  margin-top: 48px; padding: 24px 0; border-top: 1px solid var(--c-border);
  display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 12px;
}
.footer-brand { font-family: var(--font-ui); font-size: 13px; font-weight: 600; color: var(--c-ink3); text-decoration: none; }
.footer-brand:hover { color: var(--c-ink); }
.footer-links { display: flex; gap: 16px; }
.footer-links a { font-size: 13px; color: var(--c-ink4); text-decoration: none; transition: color 0.15s; }
.footer-links a:hover { color: var(--c-ink2); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   EMBEDDED TOOL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.wh-tool {
  background: var(--c-surface); border: 1px solid var(--c-border);
  border-radius: var(--r-xl); overflow: hidden; box-shadow: var(--shadow-md);
}
.wh-live-strip { display: flex; background: var(--c-surface2); border-bottom: 1px solid var(--c-border); }
.wh-live-city { flex: 1; padding: 16px 18px; border-right: 1px solid var(--c-border); display: flex; flex-direction: column; gap: 3px; }
.wh-live-city:last-child { border-right: none; }
.wh-live-name { font-size: 11px; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; color: var(--c-ink4); }
.wh-live-time { font-family: var(--font-time); font-size: 28px; font-weight: 300; color: var(--c-ink); letter-spacing: -0.03em; font-variant-numeric: tabular-nums; }
.wh-live-time .wh-colon { display: inline-block; animation: wh-blink 1s step-start infinite; }
@keyframes wh-blink { 0%,49% { opacity: 1; } 50%,100% { opacity: 0.2; } }
.wh-live-date { font-size: 11px; color: var(--c-ink4); margin-top: 1px; }
.wh-live-offset {
  display: inline-block; margin-top: 4px; font-size: 11px; font-weight: 600;
  padding: 2px 8px; border-radius: var(--r-full); background: var(--c-accent-bg); color: var(--c-accent);
}
.wh-planner { padding: 18px; border-bottom: 1px solid var(--c-border); }
.wh-planner-label { font-size: 11px; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; color: var(--c-ink4); margin-bottom: 14px; }
.wh-slider-chosen { font-family: var(--font-time); font-size: 32px; font-weight: 300; color: var(--c-accent); letter-spacing: -0.03em; margin-bottom: 12px; font-variant-numeric: tabular-nums; }
.wh-slider-chosen .wh-colon { animation: wh-blink 1s step-start infinite; display: inline-block; }
.wh-slider { -webkit-appearance: none; appearance: none; width: 100%; height: 4px; border-radius: 2px; background: var(--c-surface3); outline: none; margin-bottom: 6px; cursor: pointer; }
.wh-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 24px; height: 24px; border-radius: 50%; background: var(--c-accent); cursor: pointer; box-shadow: 0 2px 8px rgba(201,106,58,0.4); }
.wh-slider::-moz-range-thumb { width: 24px; height: 24px; border-radius: 50%; background: var(--c-accent); cursor: pointer; border: none; }
.wh-slider-axis { display: flex; justify-content: space-between; font-size: 10px; color: var(--c-ink4); margin-top: 4px; }
.wh-timeline { padding: 0 18px 4px; }
.wh-tl-zone { padding: 10px 0; border-bottom: 1px solid var(--c-border); }
.wh-tl-zone:last-child { border-bottom: none; }
.wh-tl-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 7px; }
.wh-tl-name { font-size: 13px; font-weight: 500; color: var(--c-ink2); }
.wh-tl-time { font-family: var(--font-time); font-size: 15px; font-weight: 300; color: var(--c-ink); font-variant-numeric: tabular-nums; }
.wh-tl-bar { position: relative; height: 22px; border-radius: 5px; overflow: hidden; background: var(--c-surface2); }
.wh-tl-seg { position: absolute; top: 0; bottom: 0; transition: opacity 0.2s; }
.wh-tl-seg.work { opacity: 1; }
.wh-tl-seg.off  { opacity: 0.22; }
.wh-tl-seg.overlap-band::after { content:''; position: absolute; inset: 0; background: rgba(80,200,120,0.20); pointer-events: none; }
[data-theme="dark"] .wh-tl-seg.overlap-band::after { background: rgba(30,92,48,0.40); }
.wh-seg-night     { background: #c8c4e0; }
.wh-seg-morning   { background: #f0d870; }
.wh-seg-afternoon { background: #80cc98; }
.wh-seg-evening   { background: #b0acd8; }
[data-theme="dark"] .wh-seg-night     { background: #2a2840; }
[data-theme="dark"] .wh-seg-morning   { background: #2a2210; }
[data-theme="dark"] .wh-seg-afternoon { background: #0e2018; }
[data-theme="dark"] .wh-seg-evening   { background: #1e1c30; }
.wh-tl-needle { position: absolute; top: 0; bottom: 0; width: 2px; background: var(--c-accent); z-index: 5; transition: left 0.18s cubic-bezier(0.25,0.46,0.45,0.94); }
.wh-tl-needle::before { content:''; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); width: 11px; height: 11px; border-radius: 50%; background: var(--c-accent); box-shadow: 0 0 0 2px var(--c-surface), 0 0 0 3px var(--c-accent); }
.wh-tl-axis { display: flex; justify-content: space-between; margin-top: 4px; font-size: 9px; color: var(--c-ink4); }
.wh-fairness { padding: 16px 18px 18px; }
.wh-fairness-label { font-size: 11px; font-weight: 600; letter-spacing: 0.08em; text-transform: uppercase; color: var(--c-ink4); margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between; }
.wh-fairness-tag { font-size: 10px; padding: 2px 8px; border-radius: var(--r-full); background: var(--c-accent-bg); color: var(--c-accent); font-weight: 600; letter-spacing: 0.06em; }
.wh-fc-bar { position: relative; height: 30px; border-radius: 6px; overflow: hidden; background: var(--c-surface2); display: flex; cursor: pointer; margin-bottom: 8px; }
.wh-fc-hour { flex: 1; height: 100%; position: relative; transition: filter 0.1s, transform 0.12s; }
.wh-fc-hour:hover { filter: brightness(0.82); }
.wh-fc-hour.sel { transform: scaleY(1.08); transform-origin: bottom; z-index:2; }
.wh-fc-hour.sel::after { content:''; position: absolute; bottom: 0; left: 0; right: 0; height: 3px; background: rgba(0,0,0,0.55); }
.wh-fc-free    { background: #5cb87a; }
.wh-fc-shared  { background: #e8b830; }
.wh-fc-unequal { background: #e07840; }
.wh-fc-unfair  { background: #cc4444; }
.wh-fc-none    { background: var(--c-surface3); }
[data-theme="dark"] .wh-fc-free    { background: #1e5c30; }
[data-theme="dark"] .wh-fc-shared  { background: #5a4008; }
[data-theme="dark"] .wh-fc-unequal { background: #5c2c10; }
[data-theme="dark"] .wh-fc-unfair  { background: #501010; }
.wh-fc-axis { display: flex; justify-content: space-between; font-size: 9px; color: var(--c-ink4); margin-bottom: 12px; }
.wh-verdict { padding: 12px 14px; border-radius: var(--r-lg); transition: background 0.2s, opacity 0.15s; margin-bottom: 12px; }
.wh-verdict.fading { opacity: 0.35; }
.wh-verdict-state { display: flex; align-items: center; gap: 10px; margin-bottom: 5px; }
.wh-verdict-icon  { font-size: 20px; flex-shrink: 0; line-height: 1; }
.wh-verdict-title { font-size: 14px; font-weight: 600; color: var(--c-ink); }
.wh-verdict-body  { font-size: 13px; color: var(--c-ink3); line-height: 1.55; }
.wh-pills { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 10px; }
.wh-pill { display: flex; align-items: center; gap: 5px; padding: 5px 10px 5px 7px; border-radius: var(--r-full); font-size: 12px; font-weight: 500; border: 1.5px solid transparent; }
.wh-pill-free    { background:#eef8f2; border-color:#90d0a8; color:#1a5c30; }
.wh-pill-mild    { background:#fdf8e4; border-color:#d8c040; color:#6a5000; }
.wh-pill-painful { background:#fff0e4; border-color:#e89050; color:#7a3010; }
.wh-pill-bad     { background:#fdf0f0; border-color:#e08080; color:#8a2020; }
[data-theme="dark"] .wh-pill-free    { background:#081a0e; border-color:#1e5030; color:#50b870; }
[data-theme="dark"] .wh-pill-mild    { background:#181400; border-color:#504000; color:#b08020; }
[data-theme="dark"] .wh-pill-painful { background:#180c04; border-color:#602808; color:#d07030; }
[data-theme="dark"] .wh-pill-bad     { background:#180404; border-color:#601010; color:#d04040; }
.wh-copy-row { display: flex; align-items: center; gap: 8px; padding-top: 10px; }
.wh-share-text { flex:1; font-size:12px; color:var(--c-ink4); font-style:italic; line-height:1.4; }
@keyframes wh-copy-flash { 0% { transform: scale(0.96); } 50% { transform: scale(1.02); } 100% { transform: scale(1); } }
.wh-copy-btn { flex-shrink: 0; padding: 8px 16px; background: var(--c-surface2); border: 1.5px solid var(--c-border2); border-radius: var(--r-full); font-family: var(--font-ui); font-size: 13px; font-weight: 600; color: var(--c-ink); cursor: pointer; transition: all 0.15s; white-space: nowrap; }
.wh-copy-btn:hover { border-color: var(--c-accent); color: var(--c-accent); background: var(--c-accent-bg); }
.wh-copy-btn.copied { background: var(--c-green-bg); border-color: #80c898; color: var(--c-green); animation: wh-copy-flash 0.25s ease-out forwards; }
.wh-fc-legend { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 12px; }
.wh-fc-legend-item { display: flex; align-items: center; gap: 4px; font-size: 11px; color: var(--c-ink3); }
.wh-fc-dot { width: 9px; height: 9px; border-radius: 2px; flex-shrink: 0; }
</style>
</head>
<body>

<nav class="topbar" role="navigation" aria-label="Site navigation">
  <a href="https://worldhour.app/" class="topbar-logo" aria-label="World Hour home">
    <svg class="topbar-logo-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" fill="none" aria-hidden="true">
      <defs>
        <linearGradient id="wh-tb-l" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#2563EB"/><stop offset="100%" stop-color="#1D4ED8"/></linearGradient>
        <linearGradient id="wh-tb-d" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#60A5FA"/><stop offset="100%" stop-color="#3B82F6"/></linearGradient>
      </defs>
      <circle cx="14" cy="14" r="12" stroke="currentColor" stroke-width="0.5" fill="none" opacity="0.15"/>
      <line x1="14" y1="2"  x2="14" y2="4.8"  stroke="currentColor" stroke-width="1.2" stroke-linecap="round" opacity="0.55"/>
      <line x1="26" y1="14" x2="23.2" y2="14" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" opacity="0.55"/>
      <line x1="14" y1="26" x2="14" y2="23.2" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" opacity="0.55"/>
      <line x1="2"  y1="14" x2="4.8" y2="14"  stroke="currentColor" stroke-width="1.2" stroke-linecap="round" opacity="0.55"/>
      <ellipse cx="14" cy="14" rx="4" ry="9" stroke="currentColor" stroke-width="0.7" fill="none" opacity="0.14" transform="rotate(18 14 14)"/>
      <circle class="tb-light-only" cx="14" cy="14" r="9.5" stroke="url(#wh-tb-l)" stroke-width="2" fill="none" stroke-dasharray="49.74 9.95" stroke-dashoffset="-14.92" stroke-linecap="round"/>
      <circle class="tb-dark-only"  cx="14" cy="14" r="9.5" stroke="url(#wh-tb-d)" stroke-width="2" fill="none" stroke-dasharray="49.74 9.95" stroke-dashoffset="-14.92" stroke-linecap="round"/>
      <line x1="14" y1="14" x2="10.78" y2="11.30" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" opacity="0.82"/>
      <line class="tb-light-only" x1="14" y1="14" x2="19.46" y2="17.15" stroke="url(#wh-tb-l)" stroke-width="1.2" stroke-linecap="round"/>
      <line class="tb-dark-only"  x1="14" y1="14" x2="19.46" y2="17.15" stroke="url(#wh-tb-d)" stroke-width="1.2" stroke-linecap="round"/>
      <circle class="tb-light-only" cx="14" cy="14" r="1.4" fill="#2563EB"/>
      <circle class="tb-dark-only"  cx="14" cy="14" r="1.4" fill="#60A5FA"/>
      <circle cx="14" cy="14" r="0.7" fill="currentColor"/>
    </svg>
    <div class="topbar-logo-wordmark">
      <span class="topbar-logo-world">World</span>
      <span class="topbar-logo-hour">Hour</span>
    </div>
  </a>
  <div class="topbar-nav" role="navigation">
    <a href="https://worldhour.app/">Converter</a>
    <a href="https://worldhour.app/guides.html">Guides</a>
  </div>
  <div class="topbar-right">
    <button class="icon-btn" id="themeToggle" aria-label="Toggle dark mode" title="Toggle dark mode">â—‘</button>
  </div>
</nav>

<main>
<div class="page-wrap">

  <div class="dst-alert" id="dstAlert" role="alert" aria-live="polite"></div>

  <header class="guide-header">
    <div class="guide-eyebrow">Amsterdam Â· New York</div>
    <h1 class="guide-title">Amsterdam to New York Time â€”<br>The Real Scheduling Guide</h1>
    <p class="guide-lede">Six hours. And the overlap lives at the edge of the Dutch day.</p>
  </header>

  <div class="quick-facts" aria-label="Key facts about this time zone pair">
    <div class="qf-item">
      <span class="qf-label">Gap</span>
      <span class="qf-value warn" id="qfGap">6 hrs</span>
    </div>
    <div class="qf-item">
      <span class="qf-label">Overlap</span>
      <span class="qf-value warn">3 hrs</span>
    </div>
    <div class="qf-item">
      <span class="qf-label">Who pays</span>
      <span class="qf-value warn">Amsterdam</span>
    </div>
  </div>

  <section class="guide-section" aria-labelledby="s-gap">
    <h2 id="s-gap">The gap in plain language</h2>
    <p>Amsterdam runs on Central European Time (CET/CEST). New York runs on Eastern Time (EST/EDT). Most of the year, Amsterdam is 6 hours ahead of New York â€” when it's 3pm in Amsterdam, it's 9am in New York.</p>
    <p>Both observe daylight saving time, but they switch on different Sundays. For a few weeks in March and again in late October/early November, the gap temporarily narrows to 5 hours. That's when recurring meetings drift by an hour without anyone noticing.</p>
    <p><strong>For companies like ASML, Shell, ING, Philips â€” and the many Dutch firms with US exposure â€” this is daily coordination, not occasional travel math.</strong></p>
  </section>

  <section class="guide-section" aria-labelledby="s-overlap">
    <h2 id="s-overlap">The honest overlap window</h2>
    <p>Assume working hours of 9amâ€“6pm in both cities. Here's what actually overlaps:</p>
    <div class="overlap-table-wrap">
      <table class="overlap-table">
        <thead><tr><th>ğŸ‡³ğŸ‡± Amsterdam</th><th>ğŸ‡ºğŸ‡¸ New York</th></tr></thead>
        <tbody><tr><td>9:00am â€“ 3:00pm</td><td>3:00am â€“ 9:00am</td></tr>
          <tr class="overlap"><td>3:00pm â€“ 6:00pm âœ¦</td><td>9:00am â€“ 12:00pm âœ¦</td></tr></tbody>
      </table>
    </div>
    <p>The only clean overlap inside standard working hours is <strong>3â€“6pm Amsterdam / 9amâ€“12pm New York</strong>. Three hours. All of it during the Dutch late afternoon.</p>
    <p>During the DST mismatch weeks in March and October/November, the gap narrows to 5 hours and the usable window expands to <strong>2â€“6pm Amsterdam / 9amâ€“1pm New York</strong> â€” four hours, but only temporarily.</p>
  </section>

  <section class="guide-section" aria-labelledby="s-fairness">
    <h2 id="s-fairness">The fairness problem</h2>
    <p>In transatlantic business, New York often anchors client schedules, capital markets timing, and executive cadence. A 9am New York meeting is 3pm Amsterdam â€” fine. A 10am ET call is 4pm CET â€” still manageable. At 11am ET, Amsterdam is at 5pm. At 12pm ET, it's 6pm. End of day.</p>
    <p>Dutch teams absorb the late afternoon cost repeatedly. Flip it around and schedule at 9am Amsterdam? New York joins at 3am. That's not happening.</p>
    <p><strong>This axis is structurally asymmetric. The overlap belongs to New York mornings and Amsterdam's late afternoons.</strong> Naming that explicitly is the first step toward managing it fairly rather than letting it calcify as the default.</p>
  </section>

    <section class="guide-section" aria-labelledby="s-dst">
    <h2 id="s-dst">The DST trap</h2>
    <p>The US switches in <strong>early March</strong> and <strong>early November</strong>. The Netherlands switches in <strong>late March</strong> and <strong>late October</strong>. For roughly 2â€“3 weeks in March and 1 week in late October/early November, the gap shrinks from 6 hours to 5 hours.</p>
    <p>During those windows, a recurring 9am New York call becomes 2pm Amsterdam instead of 3pm. Or a 3pm Amsterdam sync becomes 10am New York instead of 9am. Standing invites don't adjust themselves.</p>
    <p><strong>If you run recurring USâ€“NL meetings, mark DST change weeks in your operating calendar.</strong> Someone will join an hour early or late if you don't flag it explicitly.</p>
  </section>

  <section class="guide-section" aria-labelledby="s-recs">
    <h2 id="s-recs">Practical recommendations</h2>
    <div class="rec-list">      <div class="rec-item">
        <div class="rec-bullet">1</div>
        <div class="rec-text"><strong>If New York leads, anchor at 9â€“10am ET.</strong> That lands at 3â€“4pm Amsterdam â€” the cleanest available compromise and the only window that doesn't push either side outside working hours.</div>
      </div>
      <div class="rec-item">
        <div class="rec-bullet">2</div>
        <div class="rec-text"><strong>Avoid recurring meetings after 11am ET.</strong> They push Amsterdam into 5â€“6pm territory and accumulate into chronic end-of-day fatigue over weeks.</div>
      </div>
      <div class="rec-item">
        <div class="rec-bullet">3</div>
        <div class="rec-text"><strong>If Amsterdam leads, schedule at 3pm local time.</strong> That hits 9am New York year-round outside the DST mismatch weeks â€” the reciprocal morning compromise.</div>
      </div>
      <div class="rec-item">
        <div class="rec-bullet">4</div>
        <div class="rec-text"><strong>Reconfirm recurring meetings every March and late October.</strong> Assume the offset has changed until you've verified it. A standing invite that felt comfortable may be off by an hour.</div>
      </div>
      <div class="rec-item">
        <div class="rec-bullet">5</div>
        <div class="rec-text"><strong>For longer strategy sessions, split into shorter blocks across different days.</strong> Three hours of overlap disappears quickly â€” two focused 45-minute sessions beat one drifting 90-minute one.</div>
      </div></div>
  </section>

  <hr class="guide-divider">

  <!-- Ad zone â€” uncomment when ad network is ready
  <div class="ad-zone" aria-label="Advertisement" role="complementary">
    Ad network code goes here
  </div>
  -->

  <div class="tool-section-label">Live tool â€” Amsterdam &amp; New York</div>

  <div class="wh-tool" role="region" aria-label="Live time zone tool for Amsterdam and New York">
    <div class="wh-live-strip">
      <div class="wh-live-city">
        <div class="wh-live-name">ğŸ‡³ğŸ‡± Amsterdam</div>
        <div class="wh-live-time"><span id="whAh">--</span><span class="wh-colon">:</span><span id="whAm">--</span></div>
        <div class="wh-live-date" id="whDateA"></div>
        <span class="wh-live-offset" id="whOffsetA">â€”</span>
      </div>
      <div class="wh-live-city">
        <div class="wh-live-name">ğŸ‡ºğŸ‡¸ New York</div>
        <div class="wh-live-time"><span id="whBh">--</span><span class="wh-colon">:</span><span id="whBm">--</span></div>
        <div class="wh-live-date" id="whDateB"></div>
        <span class="wh-live-offset" id="whOffsetB">â€”</span>
      </div>
    </div>
    <div class="wh-planner">
      <div class="wh-planner-label">Meeting Planner â€” drag to explore</div>
      <div class="wh-slider-chosen" aria-live="polite">
        <span id="whSlideH">09</span><span class="wh-colon">:</span><span>00</span>
      </div>
      <input type="range" class="wh-slider" id="whSlider" min="0" max="23" value="9" aria-label="Choose meeting hour">
      <div class="wh-slider-axis"><span>0h</span><span>6h</span><span>12h</span><span>18h</span><span>23h</span></div>
    </div>
    <div class="wh-timeline" id="whTimeline"></div>
    <div class="wh-fairness">
      <div class="wh-fairness-label">Meeting Cost <span class="wh-fairness-tag">Who pays?</span></div>
      <div class="wh-fc-bar" id="whFcBar" role="group" aria-label="24-hour fairness view"></div>
      <div class="wh-fc-axis"><span>12am</span><span>3</span><span>6</span><span>9</span><span>12pm</span><span>3</span><span>6</span><span>9</span><span>12am</span></div>
      <div class="wh-fc-legend">
        <div class="wh-fc-legend-item"><div class="wh-fc-dot" style="background:#5cb87a"></div> Fair for all</div>
        <div class="wh-fc-legend-item"><div class="wh-fc-dot" style="background:#e8b830"></div> Shared stretch</div>
        <div class="wh-fc-legend-item"><div class="wh-fc-dot" style="background:#e07840"></div> Unequal</div>
        <div class="wh-fc-legend-item"><div class="wh-fc-dot" style="background:#cc4444"></div> Unfair</div>
      </div>
      <div class="wh-verdict" id="whVerdict"></div>
      <div class="wh-copy-row">
        <div class="wh-share-text" id="whShareText"></div>
        <button class="wh-copy-btn" id="whCopyBtn" onclick="whCopyTime()">Copy meeting time</button>
      </div>
    </div>
  </div>

  <div class="compared-module" role="navigation" aria-label="Commonly compared corridors">
    <div class="compared-label">Commonly compared with</div>
    <div class="compared-links"><a href="https://worldhour.app/frankfurt-to-new-york-time" class="compared-link">Frankfurt â†” New York</a>
      <a href="https://worldhour.app/new-york-to-london-time" class="compared-link">New York â†” London</a></div>
  </div>

  <nav class="corridors-section" aria-label="Other major business corridors">
    <div class="corridors-label">Other major business corridors</div>
    <div class="corridor-row">      <a href="https://worldhour.app/frankfurt-to-new-york-time" class="corridor-item">
        <span class="corridor-name">Frankfurt â†” New York</span>
        <span class="corridor-desc">The financial market axis</span>
      </a>
      <a href="https://worldhour.app/new-york-to-london-time" class="corridor-item">
        <span class="corridor-name">New York â†” London</span>
        <span class="corridor-desc">Only ~3 real overlap hours</span>
      </a>
      <a href="https://worldhour.app/stockholm-to-new-york-time" class="corridor-item">
        <span class="corridor-name">Stockholm â†” New York</span>
        <span class="corridor-desc">Overlap at end of Sweden's day</span>
      </a></div>
  </nav>

  <div class="explore-section" role="navigation" aria-label="Explore by region">
    <div class="explore-label">Explore by region</div>
    <div class="explore-links"><a href="https://worldhour.app/guides/europe-north-america" class="explore-link active">Europe â†” North America</a>
      <a href="https://worldhour.app/guides/europe-asia" class="explore-link">Europe â†” Asia</a>
      <a href="https://worldhour.app/guides/us-domestic" class="explore-link">US Domestic</a>
      <a href="https://worldhour.app/guides/apac-europe" class="explore-link">APAC â†” Europe</a></div>
  </div>

  <footer class="page-footer" role="contentinfo">
    <a href="https://worldhour.app/" class="footer-brand">World Hour</a>
    <div class="footer-links">
      <a href="https://worldhour.app/">Converter</a>
      <a href="https://worldhour.app/guides.html">All guides</a>
    </div>
  </footer>

</div>
</main>

<script>
'use strict';
const { DateTime } = luxon;

const CITY_A = { f:'ğŸ‡³ğŸ‡±', n:'Amsterdam', c:'Netherlands', tz:'Europe/Amsterdam' };
const CITY_B = { f:'ğŸ‡ºğŸ‡¸', n:'New York', c:'United States', tz:'America/New_York' };
const CITIES = [CITY_A, CITY_B];
const WS = 9, WE = 18;

// Theme
(function() {
  const saved = localStorage.getItem('wh_theme');
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  if (saved === 'dark' || (!saved && prefersDark)) document.documentElement.setAttribute('data-theme','dark');
})();
document.getElementById('themeToggle').addEventListener('click', () => {
  const isDark = document.documentElement.hasAttribute('data-theme');
  if (isDark) { document.documentElement.removeAttribute('data-theme'); localStorage.setItem('wh_theme','light'); }
  else { document.documentElement.setAttribute('data-theme','dark'); localStorage.setItem('wh_theme','dark'); }
  const meta = document.getElementById('metaThemeColor');
  if (meta) meta.content = document.documentElement.hasAttribute('data-theme') ? '#141210' : '#faf9f7';
});

// DST windows â€” Amsterdam / New York specific

function nthSunday(y,m,n){let d=new Date(y,m-1,1),c=0;while(true){if(d.getDay()===0){c++;if(c===n)return new Date(d);}d.setDate(d.getDate()+1);}}
function lastSunday(y,m){let d=new Date(y,m,0);while(d.getDay()!==0)d.setDate(d.getDate()-1);return d;}
function getDSTWindows(year) {
  const usSpring = nthSunday(year,3,2);   // US: 2nd Sunday March
  const euSpring = lastSunday(year,3);    // EU: last Sunday March
  const usFall   = nthSunday(year,11,1); // US: 1st Sunday November
  const euFall   = lastSunday(year,10);  // EU: last Sunday October
  return [
    { start: usSpring, end: euSpring, desc: "US clocks moved forward â€” Europe clocks haven\'t yet. The gap shifts by 1 hour." },
    { start: euFall,   end: usFall,   desc: "Europe clocks moved back â€” US clocks haven\'t yet. The gap shifts by 1 hour." },
  ];
}

function checkDSTAlert() {
  const now = new Date();
  const windows = getDSTWindows(now.getFullYear());
  const WARN = 21;
  for (const w of windows) {
    const alertStart = new Date(w.start); alertStart.setDate(alertStart.getDate() - WARN);
    const alertEnd   = new Date(w.end);   alertEnd.setDate(alertEnd.getDate() + 1);
    if (now >= alertStart && now <= alertEnd) {
      const el = document.getElementById('dstAlert');
      const d  = Math.ceil((w.start - now) / 86400000);
      el.innerHTML = 'ğŸ• ' + (d > 0
        ? `<strong>DST transition in ${d} day${d!==1?'s':''}:</strong> ${w.desc} Re-confirm any standing invites.`
        : `<strong>Active DST gap:</strong> ${w.desc} Check all recurring invites â€” they may have shifted.`);
      el.classList.add('visible');
      break;
    }
  }
}

// Live clock
function updateLiveClock() {
  const aDt = DateTime.now().setZone(CITY_A.tz);
  const bDt = DateTime.now().setZone(CITY_B.tz);
  document.getElementById('whAh').textContent = aDt.toFormat('HH');
  document.getElementById('whAm').textContent = aDt.toFormat('mm');
  document.getElementById('whDateA').textContent = aDt.toFormat('EEE, MMM d');
  document.getElementById('whOffsetA').textContent = aDt.toFormat('ZZZZ');
  document.getElementById('whBh').textContent = bDt.toFormat('HH');
  document.getElementById('whBm').textContent = bDt.toFormat('mm');
  document.getElementById('whDateB').textContent = bDt.toFormat('EEE, MMM d');
  document.getElementById('whOffsetB').textContent = bDt.toFormat('ZZZZ');
  const offsetHrs = Math.round((bDt.offset - aDt.offset) / 60);
  const sign = offsetHrs >= 0 ? '+' : '';
  document.getElementById('qfGap').textContent = sign + offsetHrs + ' hrs';
}

// Meeting Cost engine
const MC = (() => {
  function score(h) {
    if (h >= WS && h < WE)     return 0;
    if (h >= WS-2 && h < WS)   return 20;
    if (h >= WE   && h < WE+2) return 25;
    if (h >= WE+2 && h <= 23)  return 60;
    if (h < WS-2)              return 85;
    return 50;
  }
  function classify(scores) {
    if (!scores.length) return 'none';
    const max = Math.max(...scores), min = Math.min(...scores);
    const avg = scores.reduce((a,b)=>a+b,0)/scores.length;
    if (max===0)        return 'free';
    if (max>=60)        return 'unfair';
    if (max-min>30)     return 'unequal';
    if (avg<=30)        return 'shared';
    return 'unequal';
  }
  function label(s) {
    if (s===0)  return 'In working hours';
    if (s<=20)  return 'Slightly early';
    if (s<=25)  return 'Slightly late';
    if (s<=40)  return 'Early start';
    if (s<=60)  return 'Outside hours';
    if (s<=80)  return 'Very early';
    return 'Sleep time';
  }
  function pillCls(s) {
    if (s===0)  return 'wh-pill-free';
    if (s<=25)  return 'wh-pill-mild';
    if (s<=60)  return 'wh-pill-painful';
    return 'wh-pill-bad';
  }
  const VERDICTS = {
    free:    {icon:'ğŸŸ¢',title:'Fair for everyone'},
    shared:  {icon:'ğŸŸ¡',title:'Shared cost'},
    unequal: {icon:'ğŸŸ ',title:'Unequal cost'},
    unfair:  {icon:'ğŸ”´',title:'Someone pays heavily'},
    none:    {icon:'âšª',title:'No data'},
  };
  function verdictBg(c) {
    return {free:'var(--c-green-bg)',shared:'var(--c-amber-bg)',unequal:'#fff4ee',unfair:'var(--c-red-bg)'}[c]||'';
  }
  function describe(hour, cityScores) {
    const hStr = String(hour).padStart(2,'0')+':00';
    const cls = classify(cityScores.map(c=>c.s));
    if (cls==='free') return `${hStr} works for everyone. Both cities are within working hours.`;
    if (cls==='shared') return `${hStr} is a slight stretch for both sides, but the cost is shared equally.`;
    const hv = cityScores.reduce((a,b)=>b.s>a.s?b:a);
    const lv = cityScores.reduce((a,b)=>b.s<a.s?b:a);
    return `${hStr}: ${hv.city.n} carries the cost (${label(hv.s).toLowerCase()}). ${lv.city.n} is comfortable.`;
  }
  function shareText(hour, cityScores, cls) {
    const parts = cityScores.map(cs=>`${String(cs.h).padStart(2,'0')}:00 ${cs.city.n}`).join(' Â· ');
    const f = {free:'Fair for everyone',shared:'Shared cost',unequal:'Unequal â€” review before sending',unfair:'Unfair â€” someone is up late/early'}[cls]||'';
    return `${parts} â€” ${f}`;
  }
  function compute(refTZ) {
    const now = DateTime.now();
    return Array.from({length:24},(_,h)=>{
      const refDt = now.setZone(refTZ).set({hour:h,minute:0,second:0});
      const cityScores = CITIES.map(city=>{ const dt=refDt.setZone(city.tz); return {city,s:score(dt.hour),h:dt.hour}; });
      return {h,cls:classify(cityScores.map(c=>c.s)),cityScores};
    });
  }
  return {compute,classify,score,label,pillCls,VERDICTS,verdictBg,describe,shareText};
})();

let sliderH = 9;

function buildTimeline() {
  const now = DateTime.now();
  const refDt = now.setZone(CITY_A.tz).set({hour:sliderH,minute:0,second:0});
  const overlapSet = new Set();
  for (let h=0;h<24;h++) {
    const t = now.setZone(CITY_A.tz).set({hour:h,minute:0});
    if (CITIES.every(city=>{ const d=t.setZone(city.tz); return d.hour>=WS&&d.hour<WE; })) overlapSet.add(h);
  }
  document.getElementById('whTimeline').innerHTML = CITIES.map(city=>{
    const cityDt = refDt.setZone(city.tz);
    const pct = ((cityDt.hour+cityDt.minute/60)/24)*100;
    const segs = Array.from({length:24},(_,h)=>{
      const tod = h>=22||h<6?'night':h>=6&&h<12?'morning':h>=12&&h<18?'afternoon':'evening';
      const w = (h>=WS&&h<WE)?'work':'off';
      const band = overlapSet.has(h)&&w==='work'?' overlap-band':'';
      return `<div class="wh-tl-seg wh-seg-${tod} ${w}${band}" style="left:${(h/24)*100}%;width:${(1/24)*100}%"></div>`;
    }).join('');
    return `<div class="wh-tl-zone"><div class="wh-tl-top"><div class="wh-tl-name">${city.f} ${city.n}</div><div class="wh-tl-time">${cityDt.toFormat('HH:mm')}</div></div><div class="wh-tl-bar">${segs}<div class="wh-tl-needle" style="left:${pct}%"></div></div><div class="wh-tl-axis"><span>00</span><span>06</span><span>12</span><span>18</span><span>24</span></div></div>`;
  }).join('');
}

function buildFairness() {
  const hours = MC.compute(CITY_A.tz);
  const sel = hours[sliderH];
  const cls = sel.cls;
  const verdict = MC.VERDICTS[cls];
  document.getElementById('whFcBar').innerHTML = hours.map(({h,cls:c})=>
    `<div class="wh-fc-hour wh-fc-${c}${h===sliderH?' sel':''}" onclick="whSetHour(${h})" title="${String(h).padStart(2,'0')}:00" role="button" aria-label="Hour ${h}: ${c}"></div>`
  ).join('');
  const desc = MC.describe(sliderH,sel.cityScores);
  const pills = sel.cityScores.map(({city,s,h})=>
    `<div class="wh-pill ${MC.pillCls(s)}"><span>${city.f}</span><span>${city.n}</span><span style="opacity:0.6;font-size:11px;">${String(h).padStart(2,'0')}:00</span><span style="font-size:10px;opacity:0.7;font-weight:400;margin-left:1px;">Â· ${MC.label(s)}</span></div>`
  ).join('');
  document.getElementById('whVerdict').innerHTML = `<div class="wh-verdict-state"><div class="wh-verdict-icon">${verdict.icon}</div><div class="wh-verdict-title">${verdict.title}</div></div><div class="wh-verdict-body">${desc}</div><div class="wh-pills">${pills}</div>`;
  document.getElementById('whVerdict').style.background = MC.verdictBg(cls);
  document.getElementById('whShareText').textContent = MC.shareText(sliderH,sel.cityScores,cls);
  const btn = document.getElementById('whCopyBtn');
  if (!btn.classList.contains('copied')) btn.textContent = `Copy meeting time \u2022 ${String(sliderH).padStart(2,'0')}:00`;
}

function renderTool() { buildTimeline(); buildFairness(); }

document.getElementById('whSlider').addEventListener('input', e => {
  sliderH = parseInt(e.target.value);
  document.getElementById('whSlideH').textContent = String(sliderH).padStart(2,'0');
  const now = DateTime.now();
  const refDt = now.setZone(CITY_A.tz).set({hour:sliderH,minute:0,second:0});
  document.querySelectorAll('.wh-tl-zone').forEach((el,i)=>{
    const city=CITIES[i]; if(!city)return;
    const dt=refDt.setZone(city.tz);
    const needle=el.querySelector('.wh-tl-needle'); if(needle)needle.style.left=((dt.hour+dt.minute/60)/24*100)+'%';
    const timeEl=el.querySelector('.wh-tl-time'); if(timeEl)timeEl.textContent=dt.toFormat('HH:mm');
  });
  document.querySelectorAll('.wh-fc-hour').forEach((el,i)=>el.classList.toggle('sel',i===sliderH));
  const verdict=document.getElementById('whVerdict');
  if(verdict){verdict.classList.add('fading');clearTimeout(verdict._t);verdict._t=setTimeout(()=>verdict.classList.remove('fading'),180);}
  const btn=document.getElementById('whCopyBtn');
  if(btn&&!btn.classList.contains('copied'))btn.textContent=`Copy meeting time \u2022 ${String(sliderH).padStart(2,'0')}:00`;
});
document.getElementById('whSlider').addEventListener('change', ()=>renderTool());

function whSetHour(h) { sliderH=h; document.getElementById('whSlider').value=h; document.getElementById('whSlideH').textContent=String(h).padStart(2,'0'); renderTool(); }

function whCopyTime() {
  const hh=String(sliderH).padStart(2,'0');
  const shareText=document.getElementById('whShareText').textContent;
  const text=shareText?`Meeting at ${hh}:00 Â· ${shareText}`:`Meeting at ${hh}:00`;
  const btn=document.getElementById('whCopyBtn');
  navigator.clipboard.writeText(text).then(()=>{
    btn.textContent='âœ“ Copied'; btn.classList.add('copied');
    setTimeout(()=>{ btn.classList.remove('copied'); btn.textContent=`Copy meeting time \u2022 ${hh}:00`; },1800);
  }).catch(()=>alert('Could not copy â€” try manually.'));
}

updateLiveClock();
checkDSTAlert();
renderTool();
(function startClock(){
  const now=new Date();
  const ms=(60-now.getSeconds())*1000-now.getMilliseconds();
  setTimeout(()=>{ updateLiveClock(); setInterval(updateLiveClock,60000); },ms);
})();
</script>
</body>
</html>
